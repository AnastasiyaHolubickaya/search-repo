(this["webpackJsonpsearch-repo-app"]=this["webpackJsonpsearch-repo-app"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(45),r=n.n(a),s=(n(109),n(46)),i=n(47),o=n(102),u=n(101),l=n(8),j=(n(110),n(25)),b=n(11),p=n(218),d=n(217),O=n(30),h=n.n(O),f=n(9),m=n(103),x=n(49),_=n.n(x),g=n(1),v=["input","meta"],S=function(e){var t=e.children,n=e.meta,c=n.touched,a=n.error,r=c&&a;return Object(g.jsxs)("div",{className:r?_.a.error:void 0,children:[t,Object(g.jsx)("br",{}),r&&Object(g.jsx)("span",{className:_.a.spanError,children:a})]})},E=function(e){var t=e.input,n=(e.meta,Object(m.a)(e,v));return Object(g.jsxs)(S,Object(f.a)(Object(f.a)({},e),{},{children:[" ",Object(g.jsx)("input",Object(f.a)(Object(f.a)(Object(f.a)({},t),n),{},{className:_.a.input}))]}))},N=n(68),C=n.n(N),R=n(95),T=function(){function e(){Object(s.a)(this,e),this.baseURL="https://api.github.com/search/repositories"}return Object(i.a)(e,[{key:"getData",value:function(e,t,n){return fetch("".concat(this.baseURL,"?q=").concat(e,"&per_page=").concat(n,"&page=").concat(t)).then((function(e){return e.json()}))}}],[{key:"getInstance",value:function(){return"object"===typeof e.instance||(e.instance=new e),e.instance}}]),e}();T.instance=void 0;var w=T.getInstance(),k={isRequestSubmit:!1,massRepos:[],isFirstTimeLoadApp:!1,idSelectedRepo:null,message:null,currentPage:0,perPage:10,totalCount:0,searchValue:""},P=function(e){return{type:"SET_REPO",data:e}},y=function(e){return{type:"SET_FIRST_TIME_FLAG",flag:e}},A=function(e){return{type:"SET_CLICK_ID",id:e}},L=function(e){return{type:"SET_MESSAGE",mess:e}},F=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},I=function(e){return{type:"SET_SEARCH_VALUE",value:e}},G=function(e){return{type:"SET_TOTAL_COUNT",totalCount:e}},M=function(e,t,n){return function(){var c=Object(R.a)(C.a.mark((function c(a){var r;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w.getData(e,t,n);case 2:(r=c.sent).message?a(L(r.message)):(a(G(r.total_count)),a(P(r.items)));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REPO":return Object(f.a)(Object(f.a)({},e),{},{massRepos:t.data,isRequestSubmit:!0});case"SET_FIRST_TIME_FLAG":return Object(f.a)(Object(f.a)({},e),{},{isFirstTimeLoadApp:t.flag});case"SET_CLICK_ID":return Object(f.a)(Object(f.a)({},e),{},{idSelectedRepo:t.id});case"SET_MESSAGE":return Object(f.a)(Object(f.a)({},e),{},{message:t.mess});case"SET_CURRENT_PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case"SET_SEARCH_VALUE":return Object(f.a)(Object(f.a)({},e),{},{searchValue:t.value});case"SET_TOTAL_COUNT":return Object(f.a)(Object(f.a)({},e),{},{totalCount:t.totalCount});default:return e}},D=n(96),V=n.n(D),z=n(24),H=function(e){var t=e.data,n=e.handleOnClick;return Object(g.jsx)("div",{className:V.a.block,children:t.map((function(e,t){return Object(g.jsxs)("div",{className:"card-panel white",children:[Object(g.jsxs)("p",{className:"black-text",children:["Name REPO: ",Object(g.jsx)("b",{className:"teal-text",children:e.name})]}),Object(g.jsxs)("p",{className:"black-text",children:["Rating: ",e.stargazers_count]}),Object(g.jsx)(z.b,{to:"/details",children:Object(g.jsx)("button",{className:"waves-effect waves-light white teal-text  btn-small",onClick:function(){return n(t)},style:{marginRight:"20px"},children:" detail"})})]},e.id.toString())}))})},q=function(e){return function(t,n){return t[e]>n[e]?1:-1}},B=n(97),K=n.n(B),J=n(98),X=n.n(J),Y=function(e){for(var t=e.currentPage,n=e.perPage,a=e.totalCount,r=e.onPageChange,s=Math.ceil(a/n),i=[],o=1;o<=s;o++)i.push(o);var u=Math.ceil(s/10),l=Object(c.useState)(1),b=Object(j.a)(l,2),p=b[0],d=b[1],O=10*(p-1)+1,h=10*p;return Object(g.jsxs)("div",{className:"pagination",children:[p>1&&Object(g.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){d(p-1)},children:[Object(g.jsx)("i",{className:"material-icons",children:"chevron_left"})," "]}),i.filter((function(e){return e>=O&&e<=h})).map((function(e){return Object(g.jsxs)("span",{style:{cursor:"pointer"},className:X()(t===e&&K.a.currentPage),onClick:function(t){r(e)},children:[" ",e," "]},e)})),u>p&&Object(g.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){d(p+1)},children:[Object(g.jsx)("i",{className:"material-icons",children:"chevron_right"})," "]})]})},Z=function(e){if(!e)return"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"},Q=Object(d.a)({form:"search"})((function(e){var t=e.handleSubmit,n=e.error;return Object(g.jsxs)("form",{className:h.a.loginForm,onSubmit:t,children:[Object(g.jsx)("div",{className:"input-field name-input",children:Object(g.jsx)(p.a,{name:"name",component:E,validate:[Z]})}),n&&Object(g.jsxs)("div",{className:h.a.formSummaryError,children:[" ",n]}),Object(g.jsx)("div",{className:h.a.loginFormButton,children:Object(g.jsxs)("button",{className:"btn waves-effect waves-light",children:["Submit",Object(g.jsx)("i",{className:"material-icons right",children:" "})]})})]})})),W=function(e){var t=e.dataRepoz,n=Object(b.d)((function(e){return e.app.searchValue})),a=Object(b.d)((function(e){return e.app.currentPage})),r=Object(b.d)((function(e){return e.app.totalCount})),s=Object(b.d)((function(e){return e.app.perPage})),i=Object(b.d)((function(e){return e.app.isRequestSubmit})),o=Object(b.d)((function(e){return e.app.message})),u=Object(c.useState)(t),l=Object(j.a)(u,2),p=l[0],d=l[1],O=Object(c.useState)(!1),f=Object(j.a)(O,2),m=f[0],x=f[1],_=Object(c.useState)(!1),v=Object(j.a)(_,2),S=v[0],E=v[1],N=Object(c.useState)(!1),C=Object(j.a)(N,2),R=C[0],T=C[1],w=Object(b.c)();return Object(c.useEffect)((function(){(""!==n||a>=1)&&w(M(n,a,s))}),[a,n]),Object(c.useEffect)((function(){d(t)}),[t]),Object(c.useEffect)((function(){m&&(d(t.sort(q("name"))),x(!1)),S&&(d(t.sort(q("stargazers_count"))),E(!1)),R&&(d(t.sort(q("created_at"))),T(!1))}),[m,R,S]),Object(g.jsxs)("div",{className:h.a.container,children:[Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"card-panel teal lighten-2 white-text ",children:"Search repos in  GitHub"})}),Object(g.jsx)(Q,{onSubmit:function(e){w(I(e.name)),w(F(1)),w(M(e.name,a,s))}}),Object(g.jsxs)("div",{className:h.a.btn_group,children:[Object(g.jsx)("p",{className:"black-text ",style:{fontSize:"14px"},children:"SORT to:"}),Object(g.jsx)("button",{className:"waves-effect waves-light white teal-text btn-small",onClick:function(){return x(!0)},children:"name"}),Object(g.jsx)("button",{className:"waves-effect waves-light white teal-text btn-small",onClick:function(){return T(!0)},children:"date"}),Object(g.jsx)("button",{className:"waves-effect waves-light white teal-text btn-small",onClick:function(){return E(!0)},children:"rating"})]}),i&&Object(g.jsx)(H,{data:p,handleOnClick:function(e){w(function(e){return function(t){t(A(e))}}(e))}}),o&&Object(g.jsxs)("div",{children:["\u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e: ",o]}),Object(g.jsx)(Y,{totalCount:r,currentPage:a,perPage:s,onPageChange:function(e){w(F(e))}})]})},$=n(73),ee=n.n($),te=function(e){var t=e.data;return Object(g.jsx)("div",{className:"card-panel white ",children:Object(g.jsxs)("div",{className:ee.a.block,children:[Object(g.jsx)("div",{className:"card-image",style:{width:"200px",marginRight:"20px"},children:Object(g.jsx)("img",{style:{width:"100%"},src:t.owner.avatar_url,alt:""})}),Object(g.jsxs)("div",{className:ee.a.block_info,children:[Object(g.jsx)("span",{children:"Name repositories:"}),Object(g.jsx)("span",{children:t.name}),Object(g.jsx)("span",{children:"Autor: "}),Object(g.jsx)("span",{children:t.owner.login}),Object(g.jsx)("span",{children:"Description: "}),Object(g.jsx)("span",{children:t.description}),Object(g.jsx)("span",{children:"Created data: "}),Object(g.jsx)("span",{children:t.created_at}),Object(g.jsx)("a",{className:"card-action lime-text",href:t.html_url,children:Object(g.jsx)("b",{children:"Link GitHub"})}),Object(g.jsx)(z.b,{className:"waves-effect waves-light white teal-text  btn-small",to:"/",children:"HOME"})]})]})})},ne=n(7),ce=n(51),ae=Object(ce.a)((function(e){return e.app.massRepos}),(function(e){return e})),re=Object(ce.a)((function(e){return e.app.idSelectedRepo}),(function(e){return e})),se=Object(ce.a)((function(e){return e.app.isFirstTimeLoadApp}),(function(e){return e})),ie=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(g.jsx)(W,{dataRepoz:e.props.massRepos})}}),null!==this.props.idSelectedRepo&&Object(g.jsx)(l.a,{path:"/details",render:function(){return Object(g.jsx)(te,{data:e.props.massRepos[e.props.idSelectedRepo]})}}),Object(g.jsx)(l.a,{path:"*",render:function(){return Object(g.jsx)("div",{children:" 404 not found "})}})]})})}}]),n}(c.Component),oe=Object(ne.d)(l.f,Object(b.b)((function(e){return{massRepos:ae(e),idSelectedRepo:re(e),isFirstTimeLoadApp:se(e)}}),{setFlagFirstTimeLoadApp:function(e){return function(t){t(y(e))}}}))(ie),ue=n(100),le=n(219),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.d,be=Object(ne.c)({app:U,form:le.a}),pe=Object(ne.e)(be,je(Object(ne.a)(ue.a)));r.a.render(Object(g.jsx)(z.a,{children:Object(g.jsx)(b.a,{store:pe,children:Object(g.jsx)(oe,{})})}),document.getElementById("root"))},30:function(e,t,n){e.exports={container:"homePage_container__3nsCG",btn_group:"homePage_btn_group__3Jx-0"}},49:function(e,t,n){e.exports={textareaAddMess:"FormControls_textareaAddMess__3PS5L",input:"FormControls_input__2kKs_",error:"FormControls_error__2xnxl",spanError:"FormControls_spanError__2vC1Z"}},73:function(e,t,n){e.exports={block:"detailPage_block__2BC16",block_info:"detailPage_block_info__fY9Bs"}},96:function(e,t,n){e.exports={block:"listItem_block__P23GK"}},97:function(e,t,n){e.exports={currentPage:"Paginator_currentPage__2CYgm"}}},[[216,1,2]]]);
//# sourceMappingURL=main.3b11b275.chunk.js.map